.TH UPDATE\-PASSWD 8 "Debian GNU/Linux tools" "DEBIAN"
.SH NAME
update-passwd \- safely update /etc/passwd, /etc/shadow and /etc/group
.SH SYNOPSIS
.B update\-passwd
.I [options]
.SH DESCRIPTION
.B update\-passwd
handles updates of /etc/passwd, /etc/shadow /etc/group on running Debian
systems.  It compares the current files to master copies, distributed in the
base\-passwd package, and updates all entries in the global system range (that
is, 0\-99).
.PP
.SH OPTIONS
.B update\-passwd
follows the usual GNU command line syntax, with long
options starting with two dashes (`-').
.TP
.BR \-p ,\  \-\-passwd-master=FILE
Use FILE as the master copy of the passwd database. The default value is
.IR /usr/share/base-passwd/passwd.master .
.TP
.BR \-g ,\  \-\-group-master=FILE
Use FILE as the master copy of the group database. The default value is
.IR /usr/share/base-passwd/passwd.group .
.TP
.BR \-P ,\  \-\-passwd=FILE
Use FILE as the the system passwd detabase. The default value is
.IR /etc/passwd .
.TP
.BR \-S ,\  \-\-shadow=FILE
Use FILE as the the system passwd detabase. The default value is
.IR /etc/shadow .
.TP
.BR \-G ,\  \-\-group=FILE
Use FILE as the the system group detabase. The default value is
.IR /etc/group .
.TP
.BR \-s ,\  \-\-sanity-check
Only perform sanity-checks but don't do anything.
.TP
.BR -v ,\  \-\-verbose
Give detailed information about we are doing.
.TP
.BR -n ,\  \-\-dry-run
Don't do anything but only show what we would do
.TP
.BR -L ,\  \-\-no\-locking
Don't attempt to lock the account database. This should only be used for
debugging purposes.
.B I repeat: do not do this unless you are really sure you need this!
.TP
.BR -h ,\  \-\-help
Show a summary of how to use
.BR update\-passwd .
.TP
.BR -V ,\  \-\-version
Show the versionnumber
.SH BUGS
At this moment
.B update\-passwd
does not verify the shadow\-file. It should check if entries in the passwd are
also in shadow and vica versa, and if passwords are not present in both files.
.SH AUTHOR
Wichert Akkerman <wakkerma@debian.org>, based on an earlier version by
Galen Hazelwood <galenh@micron.net>
.PP
This program was written for the Debian GNU/Linux distribution, and is
Copyright 1999 Software in the Public Interest.  It is distributed under the
GNU General Public License.

